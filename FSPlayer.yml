name: FSPlayer
options:
  bundleIdPrefix: com.debugly
targets:
  FSPlayer-macOS:
    platform: macOS
    type: framework
    deploymentTarget: 10.11
    sources:
      - path: ijkmedia
        excludes:
          - "ijksdl/ijksdl_extra_log.c"
          - "ijkplayer/ijkversion.h"
          - "ijkplayer/ijkavformat/ijkioandroidio.c"
          - "ijkplayer/android/**/*.*"
          - "ijksdl/android/**/*.*"
          - "ijksdl/ijksdl_egl.*"
          - "ijksdl/ijksdl_container.*"
          - "ijksdl/ffmpeg/ijksdl_vout_overlay_ffmpeg.[hc]"
          - "ijksdl/ios/*.*"
          - "wrapper/apple/FSAudioKit.*"
    settings:
      PRODUCT_NAME: FSPlayer
      GENERATE_INFOPLIST_FILE: YES
      GCC_PREPROCESSOR_DEFINITIONS: "$(inherited) IJK_USE_METAL_2=1"
      MTL_LANGUAGE_REVISION: Metal20
      METAL_LIBRARY_OUTPUT_DIR: "${CONFIGURATION_BUILD_DIR}/FSPlayer.framework/Resources"
      ALWAYS_SEARCH_USER_PATHS: YES
      HEADER_SEARCH_PATHS:
        - "$(inherited)"
        - "${PROJECT_DIR}/../../FFToolChain/build/product/macos/universal/ffmpeg/include"
        - "${PROJECT_DIR}/../../FFToolChain/build/product/macos/universal/bluray/include"
        - "${PROJECT_DIR}/../../FFToolChain/build/product/macos/universal/dvdread/include"
        - "${PROJECT_DIR}/../../FFToolChain/build/product/macos/universal/ass/include"
        - "${PROJECT_DIR}/../../ijkmedia"
        - "${PROJECT_DIR}/../../ijkmedia/ijkplayer"
      LIBRARY_SEARCH_PATHS:
        - "$(inherited)"
        - "${PROJECT_DIR}/../../FFToolChain/build/product/macos/universal/ass/lib"
        - "${PROJECT_DIR}/../../FFToolChain/build/product/macos/universal/bluray/lib"
        - "${PROJECT_DIR}/../../FFToolChain/build/product/macos/universal/dav1d/lib"
        - "${PROJECT_DIR}/../../FFToolChain/build/product/macos/universal/dvdread/lib"
        - "${PROJECT_DIR}/../../FFToolChain/build/product/macos/universal/ffmpeg/lib"
        - "${PROJECT_DIR}/../../FFToolChain/build/product/macos/universal/freetype/lib"
        - "${PROJECT_DIR}/../../FFToolChain/build/product/macos/universal/fribidi/lib"
        - "${PROJECT_DIR}/../../FFToolChain/build/product/macos/universal/harfbuzz/lib"
        - "${PROJECT_DIR}/../../FFToolChain/build/product/macos/universal/openssl/lib"
        - "${PROJECT_DIR}/../../FFToolChain/build/product/macos/universal/opus/lib"
        - "${PROJECT_DIR}/../../FFToolChain/build/product/macos/universal/smb2/lib"
        - "${PROJECT_DIR}/../../FFToolChain/build/product/macos/universal/uavs3d/lib"
        - "${PROJECT_DIR}/../../FFToolChain/build/product/macos/universal/unibreak/lib"
        - "${PROJECT_DIR}/../../FFToolChain/build/product/macos/universal/xml2/lib"
    dependencies:
      - sdk: AppKit.framework
      - sdk: AudioUnit.framework
      - sdk: AudioToolbox.framework
      - sdk: Metal.framework
      - sdk: OpenGL.framework
      - sdk: GLKit.framework
      - sdk: CoreFoundation.framework
      - sdk: CoreVideo.framework
      - sdk: CoreImage.framework
      - sdk: VideoToolbox.framework
      - sdk: CoreMedia.framework
      - sdk: Security.framework
      - sdk: libz.tbd
      - sdk: libbz2.tbd
      - sdk: libiconv.tbd
      - sdk: liblzma.tbd
      - sdk: ../../FFToolChain/build/product/macos/universal/ass/lib/libass.a
      - sdk: ../../FFToolChain/build/product/macos/universal/bluray/lib/libbluray.a
      - sdk: ../../FFToolChain/build/product/macos/universal/dav1d/lib/libdav1d.a
      - sdk: ../../FFToolChain/build/product/macos/universal/dvdread/lib/libdvdread.a
      - sdk: ../../FFToolChain/build/product/macos/universal/ffmpeg/lib/libavcodec.a
      - sdk: ../../FFToolChain/build/product/macos/universal/ffmpeg/lib/libavdevice.a
      - sdk: ../../FFToolChain/build/product/macos/universal/ffmpeg/lib/libavfilter.a
      - sdk: ../../FFToolChain/build/product/macos/universal/ffmpeg/lib/libavformat.a
      - sdk: ../../FFToolChain/build/product/macos/universal/ffmpeg/lib/libavutil.a
      - sdk: ../../FFToolChain/build/product/macos/universal/ffmpeg/lib/libswresample.a
      - sdk: ../../FFToolChain/build/product/macos/universal/ffmpeg/lib/libswscale.a
      - sdk: ../../FFToolChain/build/product/macos/universal/freetype/lib/libfreetype.a
      - sdk: ../../FFToolChain/build/product/macos/universal/fribidi/lib/libfribidi.a
      - sdk: ../../FFToolChain/build/product/macos/universal/harfbuzz/lib/libharfbuzz-subset.a
      - sdk: ../../FFToolChain/build/product/macos/universal/harfbuzz/lib/libharfbuzz.a
      - sdk: ../../FFToolChain/build/product/macos/universal/openssl/lib/libcrypto.a
      - sdk: ../../FFToolChain/build/product/macos/universal/openssl/lib/libssl.a
      - sdk: ../../FFToolChain/build/product/macos/universal/opus/lib/libopus.a
      - sdk: ../../FFToolChain/build/product/macos/universal/smb2/lib/libsmb2.a
      - sdk: ../../FFToolChain/build/product/macos/universal/uavs3d/lib/libuavs3d.a
      - sdk: ../../FFToolChain/build/product/macos/universal/unibreak/lib/libunibreak.a
      - sdk: ../../FFToolChain/build/product/macos/universal/xml2/lib/libxml2.a
  FSPlayer-iOS:
    platform: iOS
    supportedDestinations: [iOS]
    type: framework
    deploymentTarget: 12
    sources:
      - path: ijkmedia
        excludes:
          - "ijksdl/ijksdl_extra_log.c"
          - "ijkplayer/ijkversion.h"
          - "ijkplayer/ijkavformat/ijkioandroidio.c"
          - "ijkplayer/android/**/*.*"
          - "ijksdl/android/**/*.*"
          - "ijksdl/ijksdl_egl.*"
          - "ijksdl/ijksdl_container.*"
          - "ijksdl/ffmpeg/ijksdl_vout_overlay_ffmpeg.[hc]"
          - "ijksdl/mac/*.*"
          - "ijksdl/apple/ijksdl_gpu_opengl_macos.[hm]"
          - "ijksdl/apple/ijksdl_gpu_opengl_fbo_macos.[hm]"
          - "ijksdl/apple/ijksdl_gpu_opengl_renderer_macos.[hm]"
          - "ijksdl/apple/ijksdl_gpu_opengl_shader_compiler.[hm]"
          - "ijksdl/gles2/**/*.*"
          - "ijksdl/ijksdl_gles2.h"
    settings:
      PRODUCT_NAME: FSPlayer
      GENERATE_INFOPLIST_FILE: YES
      GCC_PREPROCESSOR_DEFINITIONS: "$(inherited) IJK_USE_METAL_2=1"
      MTL_LANGUAGE_REVISION: Metal20
      METAL_LIBRARY_OUTPUT_DIR: "${CONFIGURATION_BUILD_DIR}/FSPlayer.framework"
      ALWAYS_SEARCH_USER_PATHS: YES
      ENABLE_BITCODE: NO
      HEADER_SEARCH_PATHS:
        - "$(inherited)"
        - "${PROJECT_DIR}/../../FFToolChain/build/product/ios/universal/ffmpeg/include"
        - "${PROJECT_DIR}/../../FFToolChain/build/product/ios/universal/bluray/include"
        - "${PROJECT_DIR}/../../FFToolChain/build/product/ios/universal/dvdread/include"
        - "${PROJECT_DIR}/../../FFToolChain/build/product/ios/universal/ass/include"
        - "${PROJECT_DIR}/../../ijkmedia"
        - "${PROJECT_DIR}/../../ijkmedia/ijkplayer"
      LIBRARY_SEARCH_PATHS:
        - "$(inherited)"
        - "${PROJECT_DIR}/../../FFToolChain/build/product/ios/universal/ass/lib"
        - "${PROJECT_DIR}/../../FFToolChain/build/product/ios/universal/bluray/lib"
        - "${PROJECT_DIR}/../../FFToolChain/build/product/ios/universal/dav1d/lib"
        - "${PROJECT_DIR}/../../FFToolChain/build/product/ios/universal/dvdread/lib"
        - "${PROJECT_DIR}/../../FFToolChain/build/product/ios/universal/ffmpeg/lib"
        - "${PROJECT_DIR}/../../FFToolChain/build/product/ios/universal/freetype/lib"
        - "${PROJECT_DIR}/../../FFToolChain/build/product/ios/universal/fribidi/lib"
        - "${PROJECT_DIR}/../../FFToolChain/build/product/ios/universal/harfbuzz/lib"
        - "${PROJECT_DIR}/../../FFToolChain/build/product/ios/universal/openssl/lib"
        - "${PROJECT_DIR}/../../FFToolChain/build/product/ios/universal/opus/lib"
        - "${PROJECT_DIR}/../../FFToolChain/build/product/ios/universal/smb2/lib"
        - "${PROJECT_DIR}/../../FFToolChain/build/product/ios/universal/uavs3d/lib"
        - "${PROJECT_DIR}/../../FFToolChain/build/product/ios/universal/unibreak/lib"
        - "${PROJECT_DIR}/../../FFToolChain/build/product/ios/universal/xml2/lib"
    dependencies:
      - sdk: UIKit.framework
      - sdk: OpenGLES.framework
      - sdk: AudioToolbox.framework
      - sdk: Metal.framework
      - sdk: CoreFoundation.framework
      - sdk: CoreVideo.framework
      - sdk: CoreImage.framework
      - sdk: VideoToolbox.framework
      - sdk: CoreMedia.framework
      - sdk: Security.framework
      - sdk: libz.tbd
      - sdk: libbz2.tbd
      - sdk: libiconv.tbd
      - sdk: liblzma.tbd
      - sdk: ../../FFToolChain/build/product/ios/universal/ass/lib/libass.a
      - sdk: ../../FFToolChain/build/product/ios/universal/bluray/lib/libbluray.a
      - sdk: ../../FFToolChain/build/product/ios/universal/dav1d/lib/libdav1d.a
      - sdk: ../../FFToolChain/build/product/ios/universal/dvdread/lib/libdvdread.a
      - sdk: ../../FFToolChain/build/product/ios/universal/ffmpeg/lib/libavcodec.a
      - sdk: ../../FFToolChain/build/product/ios/universal/ffmpeg/lib/libavdevice.a
      - sdk: ../../FFToolChain/build/product/ios/universal/ffmpeg/lib/libavfilter.a
      - sdk: ../../FFToolChain/build/product/ios/universal/ffmpeg/lib/libavformat.a
      - sdk: ../../FFToolChain/build/product/ios/universal/ffmpeg/lib/libavutil.a
      - sdk: ../../FFToolChain/build/product/ios/universal/ffmpeg/lib/libswresample.a
      - sdk: ../../FFToolChain/build/product/ios/universal/ffmpeg/lib/libswscale.a
      - sdk: ../../FFToolChain/build/product/ios/universal/freetype/lib/libfreetype.a
      - sdk: ../../FFToolChain/build/product/ios/universal/fribidi/lib/libfribidi.a
      - sdk: ../../FFToolChain/build/product/ios/universal/harfbuzz/lib/libharfbuzz-subset.a
      - sdk: ../../FFToolChain/build/product/ios/universal/harfbuzz/lib/libharfbuzz.a
      - sdk: ../../FFToolChain/build/product/ios/universal/openssl/lib/libcrypto.a
      - sdk: ../../FFToolChain/build/product/ios/universal/openssl/lib/libssl.a
      - sdk: ../../FFToolChain/build/product/ios/universal/opus/lib/libopus.a
      - sdk: ../../FFToolChain/build/product/ios/universal/smb2/lib/libsmb2.a
      - sdk: ../../FFToolChain/build/product/ios/universal/uavs3d/lib/libuavs3d.a
      - sdk: ../../FFToolChain/build/product/ios/universal/unibreak/lib/libunibreak.a
      - sdk: ../../FFToolChain/build/product/ios/universal/xml2/lib/libxml2.a


